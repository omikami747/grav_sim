PRAC=../prac
LINES:=$(shell python ${PRAC}/linelength)
TEST=../test
FpAdd_rtl.out: ${PRAC}/FpAdd.v ${PRAC}/FpAdd_tb.v ${TEST}/Fp_Add_tstvec.txt FpAdd.out FpAdd_rtl.temp
	iverilog ${PRAC}/FpAdd.v ${PRAC}/FpAdd_tb.v -o FpAdd.out
	vvp FpAdd.out > FpAdd_rtl.temp 
	tail -n +4 FpAdd_rtl.temp| head -n ${LINES} > FpAdd_rtl.out

FpAdd_ref.out: ${PRAC}/py_FpAdd ${TEST}/Fp_Add_tstvec.txt
	./${PRAC}/py_FpAdd

FpAdd.log: FpAdd_rtl.out FpAdd_ref.out
	diff -q FpAdd_rtl.out FpAdd_ref.out
	diff -t FpAdd_rtl.out FpAdd_ref.out > FpAdd.log
#no_test_vec:
##${PRAC}/linelength
